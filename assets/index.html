<html>
    <head>
        <link href="main.css" rel="stylesheet" type="text/css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    </head>
    <body>
		<audio id="Loading" autoplay loop >
        <source src="sound/song.mp3" type="audio/mp3">
    </audio>
	<script>
	var bgImageArray = ["pictures/1.jpg", "pictures/2.jpg", "pictures/3.jpg", "pictures/4.jpg", "pictures/5.jpg", "pictures/6.jpg", "pictures/7.jpg", "pictures/8.jpg", "pictures/9.jpg"],
	base = "",
	secs = 8;
	bgImageArray.forEach(function(img){
		new Image().src = base + img; 
		// caches images, avoiding white flash between background replacements
	});

	function backgroundSequence() {
		window.clearTimeout();
		var k = 0;
		for (i = 0; i < bgImageArray.length; i++) {
			setTimeout(function(){ 
				document.documentElement.style.background = "url(" + base + bgImageArray[Math.floor((Math.random() * 9) + 1)] + ") no-repeat center center fixed";
				document.documentElement.style.backgroundSize ="cover";
			if ((k + 1) === bgImageArray.length) { setTimeout(function() { backgroundSequence() }, (secs * 1000))} else { k++; }			
			}, (secs * 1000) * i)	
		}
	}
	backgroundSequence();
	</script>
	<script>
     var vid = document.getElementById("Loading");
     vid.volume = 0.015
    </script>
		<!-- <div class="backdrop"> -->
            <div class="top">
                <h1 title="Servername">Sakura Gaming</h1>
                <h2 title="GameMode">Hardcore:RP</h2>
            </div>
			
			<div class="center">
				<h2 title="changelogs">Changelogs</h2>
				Wir updaten nicht jeden Tag, also wird dieser Text nun nicht jede kleine änderung beinhalten!
				<br><br>
				<ul>
                    <li>Optimierte Serverleistung durch Implementierung von Caching-Mechanismen.</li>
                    <li>Hinzufügen neuer benutzerdefinierter Fahrzeuge für Zivilisten und Rettungsdienste.</li>
                    <li>Implementierung eines neuen dynamischen Wettersystems für mehr Realismus.</li>
                    <li>Behebung eines Fehlers, der gelegentliche Spieler-Trennungen bei hoher Serverlast verursacht hat.</li>
                    <li>Aktualisierung der Server-Skripte, um die Kompatibilität mit den neuesten FiveM-Updates zu verbessern.</li>
                    <li>Hinzufügen neuer Mini-Spiele und Aktivitäten, damit Spieler in ihrer Freizeit Spaß haben können.</li>
                    <li>Behebung von Problemen mit dem Inventarverwaltungssystem für ein reibungsloseres Spielerlebnis.</li>
                    <li>Einführung neuer Anti-Cheat-Maßnahmen, um die Serverintegrität zu erhalten.</li>
                    <li>Implementierung von Änderungen zur Ausbalancierung der Wirtschaft, um Preise und Belohnungen anzupassen.</li>
                    <li>Verbesserung der Serversicherheit durch Aktualisierung der Backend-Infrastruktur und Protokolle.</li>
				</ul>
				<h1 title="link-to-dsc">discord.gg/yourinvitelink</h1>
			</div>
            <div class="copyright-do-not-remove">
                <footer>Credits: smallo92, Hoppl</footer>
            </div>
            <div class="letni">
                <!-- <h2 title="INTEL">Intel</h2> -->
                <!-- <h3></h3> -->
				<img style="margin-left:5px; margin-bottom: -15px;" src="pictures/logo.png" />
                <div class="loadbar"><div class="thingy"></div></div>
                <p>Lädt...</p>
            </div>
            <div class="bottom">
                <div id="gradient">
				
                </div>
            </div>
        <!-- </div> -->
	</div>

<script type="text/javascript">
// this will actually restart the loading bar a lot, making multiple loading bars is an exercise to the reader... for now.
// for a set of possible events, see https://github.com/citizenfx/cfx-client/blob/up-master/components/loading-screens-five/src/LoadingScreens.cpp
var count = 0;
var thisCount = 0;

const emoji = {
    INIT_BEFORE_MAP_LOADED: [ 'ðŸ‰' ],
    INIT_AFTER_MAP_LOADED: [ 'ðŸ‹', 'ðŸŠ' ],
    INIT_SESSION: [ 'ðŸ', 'ðŸ…', 'ðŸ†' ],
};

const handlers = {
    startInitFunctionOrder(data)
    {
        count = data.count;

        document.querySelector('.letni h3').innerHTML += emoji[data.type][data.order - 1] || '';
    },

    initFunctionInvoking(data)
    {
        document.querySelector('.thingy').style.left = '0%';
        document.querySelector('.thingy').style.width = ((data.idx / count) * 100) + '%';
    },

    startDataFileEntries(data)
    {
        count = data.count;

        document.querySelector('.letni h3').innerHTML += "\u{1f358}";
    },

    performMapLoadFunction(data)
    {
        ++thisCount;

        document.querySelector('.thingy').style.left = '0%';
        document.querySelector('.thingy').style.width = ((thisCount / count) * 100) + '%';
    },

    onLogLine(data)
    {
        document.querySelector('.letni p').innerHTML = data.message + "..!";
    }
};

window.addEventListener('message', function(e)
{
    (handlers[e.data.eventName] || function() {})(e.data);
});
</script>
    </body>
</html>
